{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rober/source/repos/landingAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { signal } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/plans.service\";\nimport * as i2 from \"src/app/services/discounts.service\";\nimport * as i3 from \"src/app/services/location.service\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-nucleo text-white border-white duration-300\": a0,\n    \"duration-300 text-slate-500 bg-white border-2 border-slate-400 \": a1\n  };\n};\nfunction PricesComponent_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function PricesComponent_div_1_div_10_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const option_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.changeCheckbox(option_r5.discount));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"app-select-discount\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c0, ctx_r3.checkedInput() === option_r5.discount, ctx_r3.checkedInput() !== option_r5.discount));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r5.type, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"discount\", option_r5.discount);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"text-white \": a0\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nfunction PricesComponent_div_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"app-monthly-payments\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const plan_r8 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c1, plan_r8.isPopular))(\"ngStyle\", i0.ɵɵpureFunction1(7, _c2, plan_r8.isPopular ? \"#90C447\" : \"#fafafa\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"plan\", plan_r8)(\"isFreeTrailMode\", ctx_r4.isFreeTrailMode)(\"currency\", ctx_r4.currency);\n  }\n}\nfunction PricesComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-titles\")(2, \"h3\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h4\", 5);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\")(9, \"div\", 6);\n    i0.ɵɵtemplate(10, PricesComponent_div_1_div_10_Template, 3, 6, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 8);\n    i0.ɵɵtemplate(12, PricesComponent_div_1_div_12_Template, 2, 9, \"div\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.subTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.arrayDiscounts$);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.arrayPrices$.value);\n  }\n}\nfunction PricesComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-skeleton-prices\");\n  }\n}\nexport let PricesComponent = /*#__PURE__*/(() => {\n  var _class;\n  class PricesComponent {\n    constructor(_plansServices, _discountsService, _locationService) {\n      this._plansServices = _plansServices;\n      this._discountsService = _discountsService;\n      this._locationService = _locationService;\n      this.isFreeTrailMode = true;\n      this.arrayPrices$ = new BehaviorSubject([]);\n      this.loading = true;\n      this.subTitle = 'Planes Núcleo Check';\n      this.description = 'Debajo puedes elegir algún otro plan que se adapte a tus necesidades.';\n      this.checkedInput = signal(0);\n    }\n    ngOnInit() {\n      this.getCurrency().then(() => {\n        this._plansServices.getPlans().subscribe(({\n          plans\n        }) => {\n          if (plans) {\n            this.loading = false;\n            this.arrayPrices$.next(plans);\n            this.title = `Optimiza la gestión de tu negocio desde ${this.currency}$ ${this.arrayPrices$.value[0].prices[this.currency].toLocaleString()}. \\n Incluye facturación electrónica y pedidos ilimitados`;\n          }\n        });\n        this._discountsService.getDiscounts().subscribe(({\n          discounts\n        }) => {\n          this.arrayDiscounts$ = discounts;\n        });\n      });\n    }\n    getCurrency() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        yield _this._locationService.getUserLocation();\n        _this.currency = _this._locationService.userCurrency;\n      })();\n    }\n    changeCheckbox(value) {\n      this.checkedInput.set(value);\n    }\n  }\n  _class = PricesComponent;\n  _class.ɵfac = function PricesComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.PlansService), i0.ɵɵdirectiveInject(i2.DiscountsService), i0.ɵɵdirectiveInject(i3.LocationService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-prices\"]],\n    inputs: {\n      isFreeTrailMode: \"isFreeTrailMode\"\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[\"id\", \"precios\", 1, \"bg-bgVerdeClaro\", \"py-[70px]\", \"text-center\"], [4, \"ngIf\", \"ngIfElse\"], [\"skeleton\", \"\"], [\"title\", \"\"], [\"subTitle\", \"\"], [\"description\", \"\"], [1, \"flex\", \"items-center\", \"justify-center\", \"gap-2\", \"mt-[50px]\", \"mb-[40px]\"], [\"class\", \"cursor-pointer rounded relative drop-shadow-xl p-4 w-[150px]\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-[90%]\", \"flex\", \"items-center\", \"justify-center\", \"flex-col\", \"lg:flex-row\", \"mx-auto\", \"gap-4\", \"p-4\", \"rounded-xl\"], [\"class\", \"flex flex-col items-start shadowCustom justify-start p-4 md:w-[350px] md:min-h-[420px] rounded-xl text-slate-500 relative\", 3, \"ngClass\", \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [1, \"cursor-pointer\", \"rounded\", \"relative\", \"drop-shadow-xl\", \"p-4\", \"w-[150px]\", 3, \"ngClass\", \"click\"], [3, \"discount\"], [1, \"flex\", \"flex-col\", \"items-start\", \"shadowCustom\", \"justify-start\", \"p-4\", \"md:w-[350px]\", \"md:min-h-[420px]\", \"rounded-xl\", \"text-slate-500\", \"relative\", 3, \"ngClass\", \"ngStyle\"], [3, \"plan\", \"isFreeTrailMode\", \"currency\"]],\n    template: function PricesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵtemplate(1, PricesComponent_div_1_Template, 13, 5, \"div\", 1);\n        i0.ɵɵtemplate(2, PricesComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading)(\"ngIfElse\", _r1);\n      }\n    }\n  });\n  return PricesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}