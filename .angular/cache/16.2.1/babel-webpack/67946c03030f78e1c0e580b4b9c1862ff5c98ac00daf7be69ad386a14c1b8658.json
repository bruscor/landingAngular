{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/toomy/OneDrive/Escritorio/Nucleo/landingAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { environment } from '../Environments/environments';\nimport * as i0 from \"@angular/core\";\nexport const currency = {\n  AR: 'ARS',\n  OTHERS: 'US'\n};\nexport class LocationService {\n  constructor() {\n    this.getUserLocation();\n  }\n  getUserLocation() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return new Promise((res, rej) => {\n        try {\n          fetch(`${environment.API_LOCATION_URL}${environment.API_KEY_LOCATION}`).then(res => res.json()).then(data => {\n            res(_this.getLocation(data.region, data.country_code));\n          });\n        } catch (error) {}\n      });\n    })();\n  }\n  getLocation(region, country_code) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.userLocation = region;\n      const country = country_code.toUpperCase();\n      _this2.userCurrency = currency[country] ? currency[country] : currency['OTHERS'];\n    })();\n  }\n}\n_class = LocationService;\n_class.ɵfac = function LocationService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["environment","currency","AR","OTHERS","LocationService","constructor","getUserLocation","_this","_asyncToGenerator","Promise","res","rej","fetch","API_LOCATION_URL","API_KEY_LOCATION","then","json","data","getLocation","region","country_code","error","_this2","userLocation","country","toUpperCase","userCurrency","factory","ɵfac","providedIn"],"sources":["C:\\Users\\toomy\\OneDrive\\Escritorio\\Nucleo\\landingAngular\\src\\app\\services\\location.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { environment } from '../Environments/environments';\r\n\r\nexport const currency: { [key: string]: string } = {\r\n  AR: 'ARS',\r\n  OTHERS: 'US',\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LocationService {\r\n  public userLocation?: string;\r\n  public userCurrency!: string;\r\n\r\n  constructor() {\r\n    this.getUserLocation();\r\n  }\r\n\r\n  async getUserLocation(): Promise<any> {\r\n    return new Promise((res, rej) => {\r\n      try {\r\n        fetch(`${environment.API_LOCATION_URL}${environment.API_KEY_LOCATION}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            res(this.getLocation(data.region, data.country_code));\r\n          });\r\n      } catch (error) {}\r\n    });\r\n  }\r\n\r\n  async getLocation(region: string, country_code: string) {\r\n    this.userLocation = region;\r\n    const country: string = country_code.toUpperCase();\r\n    this.userCurrency = currency[country]\r\n      ? currency[country]\r\n      : currency['OTHERS'];\r\n  }\r\n}\r\n"],"mappings":";;AACA,SAASA,WAAW,QAAQ,8BAA8B;;AAE1D,OAAO,MAAMC,QAAQ,GAA8B;EACjDC,EAAE,EAAE,KAAK;EACTC,MAAM,EAAE;CACT;AAKD,OAAM,MAAOC,eAAe;EAI1BC,YAAA;IACE,IAAI,CAACC,eAAe,EAAE;EACxB;EAEMA,eAAeA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACnB,OAAO,IAAIC,OAAO,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAI;QAC9B,IAAI;UACFC,KAAK,CAAC,GAAGZ,WAAW,CAACa,gBAAgB,GAAGb,WAAW,CAACc,gBAAgB,EAAE,CAAC,CACpEC,IAAI,CAAEL,GAAG,IAAKA,GAAG,CAACM,IAAI,EAAE,CAAC,CACzBD,IAAI,CAAEE,IAAI,IAAI;YACbP,GAAG,CAACH,KAAI,CAACW,WAAW,CAACD,IAAI,CAACE,MAAM,EAAEF,IAAI,CAACG,YAAY,CAAC,CAAC;UACvD,CAAC,CAAC;SACL,CAAC,OAAOC,KAAK,EAAE;MAClB,CAAC,CAAC;IAAC;EACL;EAEMH,WAAWA,CAACC,MAAc,EAAEC,YAAoB;IAAA,IAAAE,MAAA;IAAA,OAAAd,iBAAA;MACpDc,MAAI,CAACC,YAAY,GAAGJ,MAAM;MAC1B,MAAMK,OAAO,GAAWJ,YAAY,CAACK,WAAW,EAAE;MAClDH,MAAI,CAACI,YAAY,GAAGzB,QAAQ,CAACuB,OAAO,CAAC,GACjCvB,QAAQ,CAACuB,OAAO,CAAC,GACjBvB,QAAQ,CAAC,QAAQ,CAAC;IAAC;EACzB;;SA1BWG,eAAe;;mBAAfA,MAAe;AAAA;;SAAfA,MAAe;EAAAuB,OAAA,EAAfvB,MAAe,CAAAwB,IAAA;EAAAC,UAAA,EAFd;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}